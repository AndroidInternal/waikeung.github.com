<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta http-equiv="X-UA-Compatible" content="IE=7" />
<meta name="keywords" content="linux,python,vim,blog,waikeung,waikeungshen,博客,编程,代码,算法,数据结构" />
<meta name="description" content="" />
<link rel="Stylesheet" type="text/css" href="../style.css">
<link rel="Stylesheet" type="text/css" href="../article.css">
<title>Linux自动化定时任务-crontab</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script type="text/javascript" src="scripts/shCore.js"></script>
<script type="text/javascript" src="scripts/shBrushBash.js"></script>
<script type="text/javascript" src="scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="scripts/shBrushCss.js"></script>
<script type="text/javascript" src="scripts/shBrushPython.js"></script>
<script type="text/javascript" src="scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="scripts/shBrushSql.js"></script>
<script type="text/javascript" src="scripts/shBrushJava.js"></script>
<link type="text/css" rel="stylesheet" href="styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="styles/shThemeDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<div id="header">
    <h1><a href="../index.html">WaikeungShen'Blog</a></h1>
</div>
<div id="article">

<h1 id="toc_1">Linux自动化定时任务-crontab</h1>
<p>
<p class="time">2013-11-20</p>
</p>

<p>
crontab命令常见于Unix和类Unix的操作系统之中，用于设置周期性被执行的指令。该命令从标准输入设备读取指令，并将其存放于“crontab”文件中，以供之后读取和执行。
</p>

<p>
通常，crontab储存的指令被守护进程激活， crond常常在后台运行，每一分钟检查是否有预定的作业需要执行。这类作业一般称为cron jobs。
</p>
<h2 id="toc_1.1">crontab文件</h2>
<p>
crontab文件包含送交cron守护进程的一系列作业和指令。每个用户可以拥有自己的crontab文件；同时，操作系统保存一个针对整个系统的crontab文件，该文件通常存放于/etc或者/etc之下的子目录中，而这个文件只能由系统管理员来修改。
</p>

<p>
crontab文件的每一行均遵守特定的格式，由空格或tab分隔为数个领域，每个领域可以放置单一或多个数值。
</p>

<h3 id="toc_1.1.1">操作符号</h3>
<p>
在一个区域里填写多个数值的方法：
</p>
<ul>
<li>
逗号 (',') 分开的值，例如：“1,3,4,7,8”

<li>
连词符 ('-') 制定值的范围，例如：“1-6”，意思等同于“1,2,3,4,5,6”

<li>
星号 ('*') 代表任何可能的值。例如，在“小时域” 里的星号等于是“每一个小时”，等等

</ul>
<p>
某些cron程序的扩展版本也支持斜线 ('/') 操作符，用于表示跳过某些给定的数。例如，“*/3”在小时域中等于“0,3,6,9,12,15,18,21”等被3整除的数；
</p>

<h3 id="toc_1.1.2">时间设置</h3>
<pre>
# 文件格式说明
#  ——分钟 (0 - 59)
# |  ——小时 (0 - 23)
# | |  ——日   (1 - 31)
# | | |  ——月   (1 - 12)
# | | | |  ——星期 (0 - 7)（星期日=0或7）
# | | | | |
# * * * * * 被执行的命令
</pre>
<p>
注：
</p>
<ol>
<li>
在“星期域”（第五个域），0和7都被视为星期日。

<li>
不很直观的用法：如果日期和星期同时被设定，那么其中的一个条件被满足时，指令便会被执行。请参考下例。

<li>
前5个域称之分时日月周，可方便个人记忆。

<li>
从第六个域起，指明要执行的命令。

</ol>

<h3 id="toc_1.1.3">不发送电子邮件</h3>
<p>
如果输出结果来自crontab里的命令，那么cron守护进程会用电子邮件将它发给用户。
</p>
<ul>
<li>
若想关闭某个命令的输出结果，可以将输出结果重定向至/dev/null。
<pre>
&gt;/dev/null 2&gt;&amp;1
</pre>

</ul>
<p>
将错误输出2重定向到标准输出1，然后将标准输出1全部放到/dev/null 文件，也就是清空。
</p>

<p>
在这里有有几个数字的意思：
</p>
<ul>
<li>
0表示键盘输入

<li>
1表示标准输出

<li>
2表示错误输出.

</ul>

<h2 id="toc_1.2">参考</h2>
<ol>
<li>
<a href="http://zh.wikipedia.org/wiki/Cron">维基百科Cron</a>

<li>
<a href="http://blog.csdn.net/tianlesoftware/article/details/5315039">Linux Crontab 定时任务 命令详解</a>

</ol>

</div>
<div id="footer">
2013-2014 Creat by vimwiki
</div>
</body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47865607-1', 'waikeungshen.info');
  ga('send', 'pageview');

</script>
</html>
