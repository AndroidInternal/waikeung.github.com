---
layout: post
title: "C语言枚举类型enum"
description: ""
category: 编程
tags: [C语言,enum,枚举]
---

在实际问题中，往往会遇到某些变量的取值被限定在一个范围之内。比如扑克牌的花色只有四种，一周只有七天，一年只有12个月之类的。 当然这些变量都可以中`#define`宏定义为一个变量，比如 

```
#define MON 1
#define TUE 2
#define WED 3
#define THU 4
#define FRI 5
#define SAT 6
#define SUN 7
```

当然这样也是能实现的，但C语言中有一种数据类型--枚举，在枚举中定义的列举出所有可能的取值，说明变量不能取这之外的值。 枚举是一种基本的数据类型，和

`int`、`double`、`char`等一样，而不是一种构造类型。 
## 枚举定义 枚举定义的一半形式为 

```
enum 枚举名 {枚举值表};

```

在枚举值表中列出所有可取得值。 例如： 

<pre>enum weekday {MON, TUE, WED, THU, FRI, SAT, SUN};
</pre> 该类型的枚举名为weekday，枚举值7个，代表一周的7天。凡是weekday枚举类型的变量都只能取这七个值中的一个。 

## 枚举变量的申明

1.  枚举也是一种基本数据类型，所以可以和其他基本数据类型一样申明。比如上面定义的weekday枚举类型，通过`enum weekday today`就声明了一个变量today为weekday枚举类型。
2.  枚举类型也可以像struct一样类型定义与变量声明同时进行。

```
enum weekday {MON, TUE, WED, THU, FRI, SAT, SUN} today;
```
这里就声明了一个变量today为weekday枚举类型。 

1.  用typedef关键字将枚举类型定义成别名，利用别名进行变量声明。

```
typedef enum weekday {
MON, 
TUE, 
WED, 
THU, 
FRI, 
SAT, 
SUN
} weekday;
```
此处weekday为枚举类型enum weekday的别名。 这是就可以用weekday声明变量，如

`weekday today`。 
## 枚举类型的使用

1.  枚举值是常量，不是变量。不能对枚举值进行赋值。
2.  枚举值本身由系统定义了一个表示序号的数值，从0开始顺序定义为0、1、2...... 如上面的weekday枚举类型，MON的值为0，TUE的值为1。

```
include&lt;stdio.h&gt;
enum weekday {MON, TUE, WED, THU, FRI, SAT, SUN};
int main()
{
    enum weekday today;
    today = MON;
    printf("%d\n", today);
    return 0;
}
```

**注意**：枚举类型既不是字符也不是字符串，所以不需要加单引号或双引号。 如果把数值赋值给枚举变量行吗？ 
```
#include&lt;stdio.h&gt; 
enum weekday {MON, TUE, WED, THU, FRI, SAT, SUN}; 
int main() 
{ 
    enum weekday a, b, c; 
    a = MON;; 
    b = 1; 
    c = -1; 
    printf("a = %d\n", a); 
    printf("b = %d\n", b); 
    printf("c = %d\n", c); 
    return 0; 
}
```
gcc 编译之后没有报错。 执行结果 

```
a = 0
b = 1
c = -1
```
VS2010编译通不不过，报错。 在实际运用的时候，考虑移植性，还是不要将整型数赋值给枚举型。如果一定要的话，才用强制转换，如 `b = (enum weekday)1`。
